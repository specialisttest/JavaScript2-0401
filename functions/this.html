<!DOCTYPE HTML>
<html>
<head>
	<title>Функции JS</title>
	<meta charset="utf-8">
	<style type="text/css">
		#demoLinks a { display: block; color: blue }
	</style>
	
	<script type="text/javascript">

        function showBook(discount) {
            if (this.price && discount){
                let price = this.price*(100 - discount) / 100;
                console.log(`${this.title} - ${price}`);
            }
            else
                console.log(`${this.title} - ${this.price}`);
            console.log(this)
        }

        // функция конструктор
        function Book(title, price){
            this.title = title;
            this.price = price;
            this.show  = showBook;
        }

        let b1 = new Book('Война и мир', 1000); // this == b1
        b1.show(20); // this == b1
        
        let b2 = new Book('Над пропастью во ржи', 200); // this == b2
        b2.show(); // this == b2

        showBook(); // this === Window (global)

        // JSON
        let b3 = {title: "Не время для дракона", price : 3000};

        console.log (typeof (showBook));
        
        //showBook.call(b3, 30); // this === b3
        showBook.apply(b3, [30]); // this === b3

        let car = { title: 'Kia', price: 23000 };

        showBook.call(car); // this == car

        let showCar = showBook.bind( car );

        showCar(30); // this == car


	</script>
</head>

<body>
	<h1>Функции JS</h1>
	<div id="demoLinks">

	</div>
</body>
</html>