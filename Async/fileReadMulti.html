<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script>

        // Промисификация
        /*function getTextReader(file) {
            return new Promise(
                (resolve, reject) => {
                    let reader = new FileReader();
                    reader.onload = function (e) {
                        resolve(reader.result);
                    }
                    reader.onerror = function (e) {
                        reject(reader.error);
                    }
                    reader.readAsText(file);
                }
            );
        }
        async function readTextFile() {
            var f = document.getElementById("textFile");
            if (f.files.length != 0) {
                document.getElementById("result").innerText =
                    await getTextReader(f.files[0]);
            }
        }*/

      
        function onFileRead(){
            var pre = document.getElementById("result");
            pre.innerHTML += this.result+'\n';
        }
        function readTextFile()
        {
            var f = document.getElementById("textFile");
            var pre = document.getElementById("result");
            pre.textContent = '';
            for(let i=0; i < f.files.length; i++) {
                let reader = new FileReader();
                reader.onload = onFileRead;
                reader.readAsText(f.files[i]);
            }
            
            
        }

        
 
    </script>
    <style>
        span {
            background:yellow;
        
        }

    </style>
</head>
<body>

    <input type="file" id="textFile" onchange="readTextFile()" multiple>
    
    <pre id="result">

    </pre>
</body>
</html>